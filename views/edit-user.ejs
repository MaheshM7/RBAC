<%- include('layouts/header') %>

<link rel="stylesheet" href="/edit-user.css"> <!-- Include the CSS for edit-user -->

<div class="container">
  <h1>Edit User</h1>

  <!-- Update User Form -->
  <form action="/admin/update-user" method="post" class="edit-user-form">
    <input type="hidden" name="id" value="<%= user._id %>" /> <!-- Change id to _id -->

    <!-- Name Field -->
    <div class="input-container">
      <label for="name">Name:</label>
      <input
        type="text"
        name="name"
        id="name"
        class="form-control"
        value="<%= user.name %>"
        required
      />
    </div>

    <!-- Email Field -->
    <div class="input-container">
      <label for="email">Email:</label>
      <input
        type="email"
        name="email"
        id="email"
        class="form-control"
        value="<%= user.email %>"
        required
      />
    </div>

    <!-- Role Field -->
    <div class="input-container">
      <label for="role">Role:</label>
      <select
        name="role"
        id="role"
        class="form-control"
        style="width: 100%;" <!-- Added width to make it responsive -->
      >
        <option value="ADMIN" <%= user.role === 'ADMIN' ? 'selected' : '' %> >
          Admin
        </option>
        <option
          value="MODERATOR"
          <%= user.role === 'MODERATOR' ? 'selected' : '' %>
        >
          Moderator
        </option>
        <option value="CLIENT" <%= user.role === 'CLIENT' ? 'selected' : '' %> >
          Client
        </option>
      </select>
    </div>

    <!-- Submit Button -->
    <div class="btn-submit-container">
      <button type="submit" class="btn-submit">Update User</button>
    </div>
  </form>

  <!-- Delete User Form -->
  <form action="/admin/delete-user" method="post" class="inline-form" onsubmit="return confirm('Are you sure you want to delete this user?');">
    <input type="hidden" name="id" value="<%= user._id %>" /> <!-- Change id to _id -->
    <button type="submit" class="btn-delete">Delete User</button>
  </form>
</div>

<%- include('layouts/footer') %>
